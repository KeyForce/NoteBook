# 正则表达式

参考

* [正则表达式速查手册 - BRIGHTON ZHANG](https://brightonzhang.com/posts/regular-expression-cheat-sheet/)

## 通用元字符

| 代码 | 说明                       |
| :--- | :------------------------- |
| `.`  | 匹配除换行符以外的任意字符 |
| `^`  | 匹配字符串的开始           |
| `$`  | 匹配字符串的结束           |

## 特有元字符

| 代码 | 说明                                                         |
| :--- | :----------------------------------------------------------- |
| `\b` | 匹配一个单词边界，也就是指单词和空格间的位置。               |
| `\B` | 匹配非单词边界。                                             |
| `\d` | 匹配一个数字字符。等价于`[0-9]`。                            |
| `\D` | 匹配一个非数字字符。等价于`[^0-9]`。                         |
| `\f` | 匹配一个换页符。                                             |
| `\n` | 匹配一个换行符。                                             |
| `\r` | 匹配一个回车符。                                             |
| `\t` | 匹配一个制表符。                                             |
| `\v` | 匹配一个垂直制表符。                                         |
| `\s` | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于`[ \f\n\r\t\v]`。 |
| `\S` | 匹配任何非空白字符。等价于[^ \f\n\r\t\v]。                   |
| `\w` | 匹配包括下划线的任何单词字符。等价于`[A-Za-z0-9_]`。注意Unicode正则表达式会匹配中文字符。 |
| `\W` | 匹配任何非单词字符。等价于`[^A-Za-z0-9_]`。                  |

## 重复

| 代码    | 说明                                                   |
| :------ | :----------------------------------------------------- |
| `*`     | 匹配前面的子表达式零次或多次。                         |
| `+`     | 匹配前面的子表达式一次或多次。                         |
| `?`     | 匹配前面的子表达式零次或一次。                         |
| `{n}`   | n是一个非负整数。匹配确定的n次。                       |
| `{n,}`  | n是一个非负整数。至少匹配n次。                         |
| `{n,m}` | m和n均为非负整数，其中n<=m。最少匹配n次且最多匹配m次。 |

## 贪婪与懒惰

| 代码 | 说明                                                         |
| ---- | :----------------------------------------------------------- |
| `?`  | 非贪心量化（Non-greedy quantifiers）： 当该字符紧跟在任何一个其他重复修饰符（*,+,?，{n}，{n,}，{n,m}）后面时， 匹配模式是非贪婪的，或说懒惰的。 非贪婪模式尽可能少的匹配所搜索的字符串， 而默认的贪婪模式则尽可能多的匹配所搜索的字符串。 例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。 |

# 字符集合`[ ]`

| 代码     | 说明                                                         |
| :------- | :----------------------------------------------------------- |
| `[xyz]`  | 字符集合（character class）。匹配所包含的任意一个字符。 例如，“`[abc]`”可以匹配“plain”中的“a”。 特殊字符仅有反斜线\保持特殊含义，用于转义字符。 其它特殊字符如星号、加号、各种括号等均作为普通字符。 脱字符^如果出现在首位则表示负值字符集合；如果出现在字符串中间就仅作为普通字符。 连字符 - 如果出现在字符串中间表示字符范围描述；如果如果出现在首位（或末尾）则仅作为普通字符。 右方括号应转义出现，也可以作为首位字符出现。 |
| `[^xyz]` | 排除型字符集合（negated character classes）。匹配未列出的任意字符。 例如，“`[^abc]`”可以匹配“plain”中的“plin”。 |
| `[a-z]`  | 字符范围。匹配指定范围内的任意字符。 例如，“`[a-z]`”可以匹配“a”到“z”范围内的任意小写字母字符。 |
| `[^a-z]` | 排除型的字符范围。匹配任何不在指定范围内的任意字符。 例如，“`[^a-z]`”可以匹配任何不在“a”到“z”范围内的任意字符。 |

# 分组`( )`与后向引用

| 代码               | 说明                                                         |
| :----------------- | :----------------------------------------------------------- |
| `(pattern)`        | 匹配pattern并获取这一匹配的子字符串。该子字符串用于向后引用。 |
| `(?<name>pattern)` | 匹配pattern并获取这一匹配的子字符串名称为name的组里，也可以写成`(?'name'pattern)`。 |
| `(?:pattern)`      | 匹配pattern但不获取匹配的子字符串（shy groups），即非获取匹配，不存储匹配的子字符串用于向后引用。 |
| `(?=pattern)`      | 正向肯定预查（look ahead positive assert），在任何匹配pattern的字符串开始处匹配查找字符串，非获取匹配。 如`\b\w+(?=ing\b)`，匹配以ing结尾的单词的前面部分(除了ing以外的部分)，如查找*I'm singing while you're dancing.*时，它会匹配sing和danc。 |
| `(?!pattern)`      | 正向否定预查（negative assert），在任何不匹配pattern的字符串开始处匹配查找字符串，非获取匹配。 如`\d{3}(?!\d)`匹配三位数字，而且这三位数字的后面不能是数字。 |
| `(?<=pattern)`     | 反向（look behind）肯定预查，与正向肯定预查类似，只是方向相反。 如`(?<=\bre)\w+\b`会匹配以re开头的单词的后半部分(除了re以外的部分)，例如在查找*reading a book*时，它匹配ading。 |
| `(?<!pattern)`     | 反向否定预查，与正向否定预查类似，只是方向相反。 如`(?<![a-z])\d{7}`匹配前面不是小写字母的七位数字。 |
| `(?#comment)`      | 注释，不对正则表达式的处理产生任何影响。                     |

