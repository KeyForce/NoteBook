## GCC编译优化

参考

* [Optimize Options (Using the GNU Compiler Collection (GCC))](https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)

-O，-O1：这两个命令的效果是一样的，目的都是在不影响编译速度的前提下，尽量采用一些优化算法降低代码大小和可执行代码的运行速度。

-O2： 该优化选项会牺牲部分编译速度，除了执行-O1所执行的所有优化之外，还会采用几乎所有的目标配置支持的优化算法，用以提高目标代码的运行速度。

-O3：该选项除了执行-O2所有的优化选项之外，一般都是采取很多向量化算法，提高代码的并行执行程度，利用现代CPU中的流水线，Cache等。

-Os：-O3的目标是宁愿增加目标代码的大小，也要拼命的提高运行速度，但是这个选项是在-O2的基础之上，尽量的降低目标代码的大小，这对于存储容量很小的设备来说非常重要。

-Ofast：该选项将不会严格遵循语言标准，除了启用所有的-O3优化选项之外，也会针对某些语言启用部分优化。

-Og：该标识会精心挑选部分与-g选项不冲突的优化选项，当然就能提供合理的优化水平，同时产生较好的可调试信息和对语言标准的遵循程度。

-O4：优化，把代码发给Jeff Dean重写。

## 其他优化方式

* OpenMP：多核处理器上编写并行程序的接口，使用简单，只需要在需要做并行的地方加上编译制导语句，然后GCC的编译命令中加上-fopenmp选项即可。
* OpenBLAS：BLAS的跨平台开源项目，可以加速各种矩阵和线性代数的计算，广泛应用在机器学习应用和框架中，Caffe里面用的BLAS库就是OpenBLAS。
* CUDA
* SIMD：ARM Neno，Intel
* 数据类型优化：double->float->int
* 合理使用内存对齐
* OpenGL
* Vulkan

